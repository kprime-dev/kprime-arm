<changeSet id="234">
  <createTable name="${targetTable1[0]}" id="" view="${table[0]}" condition="">
    <columns>
        <#list keys as key>
        <columns name="${key}" id="id.${key}" dbname="" nullable="false" dbtype=""/>
        </#list>
        <#list lhss as lhs>
        <columns name="${lhs}" id="id.${lhs}" dbname="" nullable="false" dbtype=""/>
        </#list>
        <#list rests as rest>
        <columns name="${rest}" id="id.${rest}" dbname="" nullable="true" dbtype=""/>
        </#list>
    </columns>
  </createTable>
  <createTable name="${targetTable2[0]}" id="" view="${table[0]}" condition="">
    <columns>
        <#list lhss as lhs>
        <columns name="${lhs}" id="id.${lhs}" dbname="" nullable="false" dbtype=""/>
        </#list>
        <#list rhss as rhs>
        <columns name="${rhs}" id="id.${rhs}" dbname="" nullable="false" dbtype=""/>
        </#list>
    </columns>
  </createTable>
  <createConstraint name="${table[0]}.doubleInclusion" id="" type="DOUBLE_INCLUSION">
    <source name="" id="" table="${targetTable1[0]}">
        <columns>
            <#list lhss as lhs>
            <columns name="${lhs}" id="id.${lhs}" dbname="" nullable="false" dbtype=""/>
            </#list>
        </columns>
    </source>
    <target name="" id="" table="${targetTable2[0]}">
        <columns>
            <#list lhss as lhs>
            <columns name="${lhs}" id="id.${lhs}" dbname="" nullable="false" dbtype=""/>
            </#list>
        </columns>
    </target>
  </createConstraint>
  <createConstraint name="${targetTable2[0]}.primaryKey" id="" type="PRIMARY_KEY">
    <source name="" id="" table="${targetTable2[0]}">
        <columns>
            <#list lhss as lhs>
            <columns name="${lhs}" id="id.${lhs}" dbname="" nullable="false" dbtype=""/>
            </#list>
        </columns>
    </source>
    <target name="" id="" table="">
        <columns>
            <columns name="" id="" dbname="" nullable="false" dbtype=""/>
        </columns>
    </target>
  </createConstraint>
  <createConstraint name="${targetTable1[0]}.primaryKey" id="" type="PRIMARY_KEY">
    <source name="" id="" table="${targetTable1[0]}">
        <columns>
            <#list keys as key>
            <columns name="${key}" id="id.${key}" dbname="" nullable="false" dbtype=""/>
            </#list>
        </columns>
    </source>
    <target name="" id="" table="">
        <columns>
            <columns name="" id="" dbname="" nullable="false" dbtype=""/>
        </columns>
    </target>
  </createConstraint>

  <createMapping name="${targetTable1[0]}">
    <select>
      <attributes>
        <#list keys as key>
        <attributes name="${key}" />
        </#list>
        <#list lhss as lhs>
        <attributes name="${lhs}" />
        </#list>
        <#list rests as rest>
        <attributes name="${rest}"/>
        </#list>
      </attributes>
      <from>
        <from tableName="${table[0]}" alias="" joinOn=""/>
      </from>
      <where condition="" />
    </select>
  </createMapping>
  <createMapping name="${targetTable2[0]}">
    <select>
      <attributes>
        <#list lhss as lhs>
        <attributes name="${lhs}"/>
        </#list>
        <#list rhss as rhs>
        <attributes name="${rhs}"/>
        </#list>
      </attributes>
      <from>
        <from tableName="${table[0]}" alias="" joinOn=""/>
      </from>
      <where condition="" />
    </select>
  </createMapping>

  <dropTable path="" schemaName="" tableName="${table[0]}"/>
  <dropConstraint path="" schemaName="" constraintName="${table[0]}.primaryKey"/>
  <dropConstraint path="" schemaName="" constraintName="${table[0]}.functional"/>
</changeSet>